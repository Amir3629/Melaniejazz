"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7645],{94919:function(e,t,n){let r;n.d(t,{C9Q:function(){return nN},CET:function(){return iG},CQF:function(){return P},F5_:function(){return od},FIU:function(){return og},H15:function(){return rt},Jk9:function(){return om},KCC:function(){return op},Kul:function(){return iW},L4j:function(){return rh},L_G:function(){return ry},MQT:function(){return oE},MTn:function(){return b.MT},Mfv:function(){return rb},O9X:function(){return ip},QEM:function(){return oC},SV0:function(){return ix},TUE:function(){return iM},VdF:function(){return of},W65:function(){return oS},YP0:function(){return K},Yvd:function(){return o_},ZUk:function(){return ic},_xc:function(){return iP},bbC:function(){return rj},c$S:function(){return oD},hv7:function(){return i5},iNf:function(){return re},iZo:function(){return rv},iwx:function(){return A},jlz:function(){return oy},lMF:function(){return iv},ldk:function(){return oa},mTi:function(){return ih},mnA:function(){return rl},nCz:function(){return nD},oe7:function(){return ol},phS:function(){return ow},qnz:function(){return or},rO3:function(){return iH},s3t:function(){return rm},s8L:function(){return rp},sZ5:function(){return iQ},uPr:function(){return ae},vHQ:function(){return oM},x0q:function(){return h.x0},xje:function(){return nY},y1X:function(){return y.y1}});var o,i,a,l,u,c,s,f,d,p=n(9013),v=n(2265),h=n(66629),y=n(44481),b=n(39306),g=n(51180),m=n(37076),j=n(34285),w=n(79252),O=n(28256),E=n(4380),k=n(89373),C=n(66759);let _=(e="")=>e.length?e[0].toUpperCase()+e.slice(1):"",S=(e="")=>e.length?`${e}Store`:"store",x=(e="")=>`use${_(e)}Store`,P=(e,{scope:t,initialStore:n,name:r=""}={})=>{let o=x(null==n?void 0:n.name),i=S(null==n?void 0:n.name),a=x(r),l=S(r),u=n?n[o]().get:{},c=n?n[o]().set:{},s=n?n[o]().use:{},f=n?n[i].atom:{};Object.keys(e).forEach(n=>{let r=(0,p.cn)(e[n]);f[n]=r,u[n]=e=>(0,p.Dv)(r,null!=e?e:t),c[n]=e=>(0,p.b9)(r,null!=e?e:t),s[n]=e=>(0,p.KO)(r,null!=e?e:t)});let d={[a]:e=>{if(e){let n={...u},r={...c},o={...s};return Object.keys(n).forEach(r=>{let o=n[r];n[r]=n=>{var r;return o(null!==(r=null!=n?n:e)&&void 0!==r?r:t)}}),Object.keys(r).forEach(n=>{let o=r[n];r[n]=n=>{var r;return o(null!==(r=null!=n?n:e)&&void 0!==r?r:t)}}),Object.keys(o).forEach(n=>{let r=o[n];o[n]=n=>{var o;return r(null!==(o=null!=n?n:e)&&void 0!==o?o:t)}}),{get:n,set:r,use:o}}return{get:u,set:c,use:s}},[l]:{atom:f},name:r};return{...d,[l]:{...d[l],scope:t,extend:(e,n)=>P(e,{scope:t,initialStore:d,...n})}}};function B(){return(B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let M=p.zt,A="element",{elementStore:D,useElementStore:F}=P({element:null},{name:"element"}),T=({element:e,scope:t,children:n})=>{let r=F().set.element(t),o=F().set.element(A);return(0,v.useEffect)(()=>{r(e),o(e)},[e,r,o]),n},L=({element:e,scope:t,children:n,...r})=>v.createElement(M,B({initialValues:[[D.atom.element,e]],scope:A},r),v.createElement(M,B({initialValues:[[D.atom.element,e]],scope:t},r),v.createElement(T,{element:e,scope:t},n))),K=(e=A)=>F().get.element(e)||(console.warn("The `useElement(pluginKey)` hook must be used inside the node component's context"),{}),N=({attributes:e,children:t,text:n,leaf:r,editor:o,nodeProps:i,...a})=>v.createElement("span",B({},e,a),t);var z=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},I=function(e,t){return e===t||e!=e&&t!=t},U=function(e,t){for(var n=e.length;n--;)if(I(e[n][0],t))return n;return -1},R=Array.prototype.splice;function V(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}V.prototype.clear=function(){this.__data__=[],this.size=0},V.prototype.delete=function(e){var t=this.__data__,n=U(t,e);return!(n<0)&&(n==t.length-1?t.pop():R.call(t,n,1),--this.size,!0)},V.prototype.get=function(e){var t=this.__data__,n=U(t,e);return n<0?void 0:t[n][1]},V.prototype.has=function(e){return U(this.__data__,e)>-1},V.prototype.set=function(e,t){var n=this.__data__,r=U(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var H="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function W(e,t){return e(t={exports:{}},t.exports),t.exports}var $="object"==typeof H&&H&&H.Object===Object&&H,q="object"==typeof self&&self&&self.Object===Object&&self,G=$||q||Function("return this")(),Q=G.Symbol,Z=Object.prototype,Y=Z.hasOwnProperty,X=Z.toString,J=Q?Q.toStringTag:void 0,ee=function(e){var t=Y.call(e,J),n=e[J];try{e[J]=void 0;var r=!0}catch(e){}var o=X.call(e);return r&&(t?e[J]=n:delete e[J]),o},et=Object.prototype.toString,en=Q?Q.toStringTag:void 0,er=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":en&&en in Object(e)?ee(e):et.call(e)},eo=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},ei=function(e){if(!eo(e))return!1;var t=er(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},ea=G["__core-js_shared__"],el=(o=/[^.]+$/.exec(ea&&ea.keys&&ea.keys.IE_PROTO||""))?"Symbol(src)_1."+o:"",eu=Function.prototype.toString,ec=function(e){if(null!=e){try{return eu.call(e)}catch(e){}try{return e+""}catch(e){}}return""},es=/^\[object .+?Constructor\]$/,ef=Object.prototype,ed=Function.prototype.toString,ep=ef.hasOwnProperty,ev=RegExp("^"+ed.call(ep).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),eh=function(e,t){var n,r=null==e?void 0:e[t];return eo(n=r)&&(!el||!(el in n))&&(ei(n)?ev:es).test(ec(n))?r:void 0},ey=eh(G,"Map"),eb=eh(Object,"create"),eg=Object.prototype.hasOwnProperty,em=Object.prototype.hasOwnProperty;function ej(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ej.prototype.clear=function(){this.__data__=eb?eb(null):{},this.size=0},ej.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ej.prototype.get=function(e){var t=this.__data__;if(eb){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return eg.call(t,e)?t[e]:void 0},ej.prototype.has=function(e){var t=this.__data__;return eb?void 0!==t[e]:em.call(t,e)},ej.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=eb&&void 0===t?"__lodash_hash_undefined__":t,this};var ew=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},eO=function(e,t){var n=e.__data__;return ew(t)?n["string"==typeof t?"string":"hash"]:n.map};function eE(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ek(e){var t=this.__data__=new V(e);this.size=t.size}eE.prototype.clear=function(){this.size=0,this.__data__={hash:new ej,map:new(ey||V),string:new ej}},eE.prototype.delete=function(e){var t=eO(this,e).delete(e);return this.size-=t?1:0,t},eE.prototype.get=function(e){return eO(this,e).get(e)},eE.prototype.has=function(e){return eO(this,e).has(e)},eE.prototype.set=function(e,t){var n=eO(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},ek.prototype.clear=function(){this.__data__=new V,this.size=0},ek.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ek.prototype.get=function(e){return this.__data__.get(e)},ek.prototype.has=function(e){return this.__data__.has(e)},ek.prototype.set=function(e,t){var n=this.__data__;if(n instanceof V){var r=n.__data__;if(!ey||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new eE(r)}return n.set(e,t),this.size=n.size,this};var eC=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},e_=function(){try{var e=eh(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),eS=function(e,t,n){"__proto__"==t&&e_?e_(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},ex=Object.prototype.hasOwnProperty,eP=function(e,t,n){var r=e[t];ex.call(e,t)&&I(r,n)&&(void 0!==n||t in e)||eS(e,t,n)},eB=function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var l=t[i],u=r?r(n[l],e[l],l,n,e):void 0;void 0===u&&(u=e[l]),o?eS(n,l,u):eP(n,l,u)}return n},eM=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},eA=function(e){return null!=e&&"object"==typeof e},eD=function(e){return eA(e)&&"[object Arguments]"==er(e)},eF=Object.prototype,eT=eF.hasOwnProperty,eL=eF.propertyIsEnumerable,eK=eD(function(){return arguments}())?eD:function(e){return eA(e)&&eT.call(e,"callee")&&!eL.call(e,"callee")},eN=Array.isArray,ez=function(){return!1},eI=W(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?G.Buffer:void 0,i=o?o.isBuffer:void 0;e.exports=i||ez}),eU=/^(?:0|[1-9]\d*)$/,eR=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&eU.test(e))&&e>-1&&e%1==0&&e<t},eV=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},eH={};eH["[object Float32Array]"]=eH["[object Float64Array]"]=eH["[object Int8Array]"]=eH["[object Int16Array]"]=eH["[object Int32Array]"]=eH["[object Uint8Array]"]=eH["[object Uint8ClampedArray]"]=eH["[object Uint16Array]"]=eH["[object Uint32Array]"]=!0,eH["[object Arguments]"]=eH["[object Array]"]=eH["[object ArrayBuffer]"]=eH["[object Boolean]"]=eH["[object DataView]"]=eH["[object Date]"]=eH["[object Error]"]=eH["[object Function]"]=eH["[object Map]"]=eH["[object Number]"]=eH["[object Object]"]=eH["[object RegExp]"]=eH["[object Set]"]=eH["[object String]"]=eH["[object WeakMap]"]=!1;var eW=function(e){return function(t){return e(t)}},e$=W(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n&&$.process,i=function(){try{var e=r&&r.require&&r.require("util").types;if(e)return e;return o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=i}),eq=e$&&e$.isTypedArray,eG=eq?eW(eq):function(e){return eA(e)&&eV(e.length)&&!!eH[er(e)]},eQ=Object.prototype.hasOwnProperty,eZ=function(e,t){var n=eN(e),r=!n&&eK(e),o=!n&&!r&&eI(e),i=!n&&!r&&!o&&eG(e),a=n||r||o||i,l=a?eM(e.length,String):[],u=l.length;for(var c in e)(t||eQ.call(e,c))&&!(a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||eR(c,u)))&&l.push(c);return l},eY=Object.prototype,eX=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||eY)},eJ=function(e,t){return function(n){return e(t(n))}},e0=eJ(Object.keys,Object),e1=Object.prototype.hasOwnProperty,e2=function(e){if(!eX(e))return e0(e);var t=[];for(var n in Object(e))e1.call(e,n)&&"constructor"!=n&&t.push(n);return t},e9=function(e){return null!=e&&eV(e.length)&&!ei(e)},e3=function(e){return e9(e)?eZ(e):e2(e)},e6=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},e8=Object.prototype.hasOwnProperty,e4=function(e){if(!eo(e))return e6(e);var t=eX(e),n=[];for(var r in e)"constructor"==r&&(t||!e8.call(e,r))||n.push(r);return n},e7=function(e){return e9(e)?eZ(e,!0):e4(e)},e5=W(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?G.Buffer:void 0,i=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=i?i(n):new e.constructor(n);return e.copy(r),r}}),te=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},tt=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i},tn=function(){return[]},tr=Object.prototype.propertyIsEnumerable,to=Object.getOwnPropertySymbols,ti=to?function(e){return null==e?[]:tt(to(e=Object(e)),function(t){return tr.call(e,t)})}:tn,ta=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e},tl=eJ(Object.getPrototypeOf,Object),tu=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)ta(t,ti(e)),e=tl(e);return t}:tn,tc=function(e,t,n){var r=t(e);return eN(e)?r:ta(r,n(e))},ts=function(e){return tc(e,e3,ti)},tf=function(e){return tc(e,e7,tu)},td=eh(G,"DataView"),tp=eh(G,"Promise"),tv=eh(G,"Set"),th=eh(G,"WeakMap"),ty="[object Map]",tb="[object Promise]",tg="[object Set]",tm="[object WeakMap]",tj="[object DataView]",tw=ec(td),tO=ec(ey),tE=ec(tp),tk=ec(tv),tC=ec(th),t_=er;(td&&t_(new td(new ArrayBuffer(1)))!=tj||ey&&t_(new ey)!=ty||tp&&t_(tp.resolve())!=tb||tv&&t_(new tv)!=tg||th&&t_(new th)!=tm)&&(t_=function(e){var t=er(e),n="[object Object]"==t?e.constructor:void 0,r=n?ec(n):"";if(r)switch(r){case tw:return tj;case tO:return ty;case tE:return tb;case tk:return tg;case tC:return tm}return t});var tS=t_,tx=Object.prototype.hasOwnProperty,tP=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&tx.call(e,"index")&&(n.index=e.index,n.input=e.input),n},tB=G.Uint8Array,tM=function(e){var t=new e.constructor(e.byteLength);return new tB(t).set(new tB(e)),t},tA=function(e,t){var n=t?tM(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},tD=/\w*$/,tF=function(e){var t=new e.constructor(e.source,tD.exec(e));return t.lastIndex=e.lastIndex,t},tT=Q?Q.prototype:void 0,tL=tT?tT.valueOf:void 0,tK=function(e,t){var n=t?tM(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},tN=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return tM(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return tA(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return tK(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return tF(e);case"[object Symbol]":return tL?Object(tL.call(e)):{}}},tz=Object.create,tI=function(){function e(){}return function(t){if(!eo(t))return{};if(tz)return tz(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),tU=function(e){return"function"!=typeof e.constructor||eX(e)?{}:tI(tl(e))},tR=e$&&e$.isMap,tV=tR?eW(tR):function(e){return eA(e)&&"[object Map]"==tS(e)},tH=e$&&e$.isSet,tW=tH?eW(tH):function(e){return eA(e)&&"[object Set]"==tS(e)},t$="[object Arguments]",tq="[object Function]",tG="[object Object]",tQ={};tQ[t$]=tQ["[object Array]"]=tQ["[object ArrayBuffer]"]=tQ["[object DataView]"]=tQ["[object Boolean]"]=tQ["[object Date]"]=tQ["[object Float32Array]"]=tQ["[object Float64Array]"]=tQ["[object Int8Array]"]=tQ["[object Int16Array]"]=tQ["[object Int32Array]"]=tQ["[object Map]"]=tQ["[object Number]"]=tQ[tG]=tQ["[object RegExp]"]=tQ["[object Set]"]=tQ["[object String]"]=tQ["[object Symbol]"]=tQ["[object Uint8Array]"]=tQ["[object Uint8ClampedArray]"]=tQ["[object Uint16Array]"]=tQ["[object Uint32Array]"]=!0,tQ["[object Error]"]=tQ[tq]=tQ["[object WeakMap]"]=!1;var tZ=function e(t,n,r,o,i,a){var l,u=1&n,c=2&n,s=4&n;if(r&&(l=i?r(t,o,i,a):r(t)),void 0!==l)return l;if(!eo(t))return t;var f=eN(t);if(f){if(l=tP(t),!u)return te(t,l)}else{var d,p,v,h,y=tS(t),b=y==tq||"[object GeneratorFunction]"==y;if(eI(t))return e5(t,u);if(y==tG||y==t$||b&&!i){if(l=c||b?{}:tU(t),!u)return c?(p=(d=l)&&eB(t,e7(t),d),eB(t,tu(t),p)):(h=(v=l)&&eB(t,e3(t),v),eB(t,ti(t),h))}else{if(!tQ[y])return i?t:{};l=tN(t,y,u)}}a||(a=new ek);var g=a.get(t);if(g)return g;a.set(t,l),tW(t)?t.forEach(function(o){l.add(e(o,n,r,o,t,a))}):tV(t)&&t.forEach(function(o,i){l.set(i,e(o,n,r,i,t,a))});var m=s?c?tf:ts:c?e7:e3,j=f?void 0:m(t);return eC(j||t,function(o,i){j&&(o=t[i=o]),eP(l,i,e(o,n,r,i,t,a))}),l},tY=function(e){return"symbol"==typeof e||eA(e)&&"[object Symbol]"==er(e)},tX=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tJ=/^\w*$/,t0=function(e,t){if(eN(e))return!1;var n=typeof e;return!!("number"==n||"symbol"==n||"boolean"==n||null==e||tY(e))||tJ.test(e)||!tX.test(e)||null!=t&&e in Object(t)};function t1(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(t1.Cache||eE),n}t1.Cache=eE;var t2=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t9=/\\(\\)?/g,t3=(a=(i=t1(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(t2,function(e,n,r,o){t.push(r?o.replace(t9,"$1"):n||e)}),t},function(e){return 500===a.size&&a.clear(),e})).cache,i),t6=1/0,t8=Q?Q.prototype:void 0,t4=t8?t8.toString:void 0,t7=function e(t){if("string"==typeof t)return t;if(eN(t))return z(t,e)+"";if(tY(t))return t4?t4.call(t):"";var n=t+"";return"0"==n&&1/t==-t6?"-0":n},t5=function(e,t){return eN(e)?e:t0(e,t)?[e]:t3(null==e?"":t7(e))},ne=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},nt=1/0,nn=function(e){if("string"==typeof e||tY(e))return e;var t=e+"";return"0"==t&&1/e==-nt?"-0":t},nr=function(e,t){t=t5(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[nn(t[n++])];return n&&n==r?e:void 0},no=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i},ni=function(e,t){var n,r;return t=t5(t,e),n=e,null==(e=(r=t).length<2?n:nr(n,no(r,0,-1)))||delete e[nn(ne(t))]},na=Object.prototype,nl=Function.prototype.toString,nu=na.hasOwnProperty,nc=nl.call(Object),ns=function(e){if(!eA(e)||"[object Object]"!=er(e))return!1;var t=tl(e);if(null===t)return!0;var n=nu.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&nl.call(n)==nc},nf=function(e){return ns(e)?void 0:e},nd=Q?Q.isConcatSpreadable:void 0,np=function(e){return eN(e)||eK(e)||!!(nd&&e&&e[nd])},nv=function e(t,n,r,o,i){var a=-1,l=t.length;for(r||(r=np),i||(i=[]);++a<l;){var u=t[a];n>0&&r(u)?n>1?e(u,n-1,r,o,i):ta(i,u):o||(i[i.length]=u)}return i},nh=function(e){return(null==e?0:e.length)?nv(e,1):[]},ny=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},nb=Math.max,ng=function(e,t,n){return t=nb(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=nb(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var l=Array(t+1);++o<t;)l[o]=r[o];return l[t]=n(a),ny(e,this,l)}},nm=function(e){return e},nj=Date.now,nw=(l=e_?function(e,t){return e_(e,"toString",{configurable:!0,enumerable:!1,value:function(){return t},writable:!0})}:nm,u=0,c=0,function(){var e=nj(),t=16-(e-c);if(c=e,t>0){if(++u>=800)return arguments[0]}else u=0;return l.apply(void 0,arguments)}),nO=function(e){return nw(ng(e,void 0,nh),e+"")},nE=nO(function(e,t){var n={};if(null==e)return n;var r=!1;t=z(t,function(t){return t=t5(t,e),r||(r=t.length>1),t}),eB(e,tf(e),n),r&&(n=tZ(n,7,nf));for(var o=t.length;o--;)ni(n,t[o]);return n});let nk=(0,b.MT)("event-editor")({blur:null,focus:null,last:null}),nC=nk.set,n_=nk.get;nk.use;let nS="plate",nx=Symbol("global-plate"),nP=(0,p.cn)(nS),nB=()=>(0,p.KO)(nP,nx)[0],{plateStore:nM,usePlateStore:nA}=(({decorate:e=null,editor:t=null,id:n,isRendered:r=!1,keyDecorate:o="1",keyEditor:i="1",keySelection:a="1",onChange:l=null,editorRef:u=null,plugins:c=[],rawPlugins:s=[],readOnly:f=!1,renderElement:d=null,renderLeaf:p=null,value:v=null,...h}={})=>{let y=P({decorate:e,editor:t,id:n,isRendered:r,keyDecorate:o,keyEditor:i,keySelection:a,onChange:l,editorRef:u,plugins:c,rawPlugins:s,readOnly:f,renderElement:d,renderLeaf:p,value:v,...h},{scope:nS,name:"plate"});return{plateStore:y.plateStore,usePlateStore:e=>{let t=nB();return(0,g.$K)(e)||y.usePlateStore(e).get.id(e)?y.usePlateStore(e):y.usePlateStore(t)}}})(),nD=e=>nA(e).get,nF=e=>nA(e).set,nT=e=>nA(e).use,nL=(e,t)=>{let n=nF(t)[e]();return(0,v.useCallback)(()=>{n((0,h.x0)())},[n])},nK=e=>{let t=nL("keyDecorate",e);return(0,v.useCallback)(()=>{t()},[t])},nN=({node:e,path:t=[],source:n,apply:r,query:o})=>{let i=[e,t];(0,j.Vq)(i,o)&&(n instanceof Function?r(e,n()):r(e,n)),(0,j.jg)(e)&&e.children.forEach((e,i)=>{nN({node:e,path:t.concat([i]),source:n,apply:r,query:o})})};var nz=function(e,t){return nw(ng(e,t,nm),e+"")},nI=function(e,t,n){(void 0===n||I(e[t],n))&&(void 0!==n||t in e)||eS(e,t,n)},nU=function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var l=i[++r];if(!1===t(o[l],l,o))break}return e},nR=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},nV=function(e,t,n,r,o,i,a){var l=nR(e,n),u=nR(t,n),c=a.get(u);if(c){nI(e,n,c);return}var s=i?i(l,u,n+"",e,t,a):void 0,f=void 0===s;if(f){var d=eN(u),p=!d&&eI(u),v=!d&&!p&&eG(u);(s=u,d||p||v)?eN(l)?s=l:eA(l)&&e9(l)?s=te(l):p?(f=!1,s=e5(u,!0)):v?(f=!1,s=tK(u,!0)):s=[]:ns(u)||eK(u)?(s=l,eK(l))?s=eB(l,e7(l)):(!eo(l)||ei(l))&&(s=tU(u)):f=!1}f&&(a.set(u,s),o(s,u,r,i,a),a.delete(u)),nI(e,n,s)},nH=function e(t,n,r,o,i){t!==n&&nU(n,function(a,l){if(i||(i=new ek),eo(a))nV(t,n,l,r,e,o,i);else{var u=o?o(nR(t,l),a,l+"",t,n,i):void 0;void 0===u&&(u=a),nI(t,l,u)}},e7)},nW=function e(t,n,r,o,i,a){return eo(t)&&eo(n)&&(a.set(n,t),nH(t,n,void 0,e,a),a.delete(n)),t},n$=function(e,t,n){if(!eo(n))return!1;var r=typeof t;return("number"==r?!!(e9(n)&&eR(t,n.length)):"string"==r&&t in n)&&I(n[t],e)},nq=function(e){return nz(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&n$(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var l=n[r];l&&e(t,l,r,i)}return t})},nG=nq(function(e,t,n,r){nH(e,t,n,r)}),nQ=nz(function(e){return e.push(void 0,nW),ny(nG,void 0,e)});let nZ=(e,t={},n)=>{var r;if(t[e.key]){let{plugins:r,then:o,...i}=t[e.key];e=nQ(i,e),n||null==r||r.forEach(t=>{e.plugins||(e.plugins=[]),e.plugins.find(e=>e.key===t.key)||e.plugins.push(t)})}e.plugins&&(e.plugins=e.plugins.map(e=>nZ(e,t,!0)));let{then:o}=e;return o?(void 0===e._thenReplaced&&(e._thenReplaced=0),e._thenReplaced<3&&(e.then=(n,r)=>{let i={key:e.key,...o(n,r)};return nQ(nZ(i,t),i)},e._thenReplaced++)):null!==(r=t[e.key])&&void 0!==r&&r.then&&(e.then=t[e.key].then),e},nY=e=>(t,n={})=>(n[e.key]=t,nZ({...e},n)),nX="deserializeAst",nJ=nY({key:nX,editor:{insertData:{format:"application/x-slate-fragment",getFragment:({data:e})=>{let t;let n=decodeURIComponent(window.atob(e));try{t=JSON.parse(n)}catch(e){}return t}}}}),n0=(e,t={})=>(0,j.Zg)(e,{...t,block:!0}),n1=(e,t)=>{var n;let{selection:r}=e;if(!r)return!1;let o=null===(n=n0(e,t))||void 0===n?void 0:n[1];return!!o&&((0,j.Vi)(e,r.focus,o)||(0,j.ul)(e.selection)&&(0,j.Vi)(e,r.anchor,o))},n2=e=>{let t=(0,j._6)(e);t&&Object.keys(t).forEach(t=>{(0,j.Ho)(e,t)})},n9="editorProtocol",n3=nY({key:n9,withOverrides:e=>{let{deleteBackward:t,deleteForward:n,deleteFragment:r}=e,o=()=>{n1(e)&&n2(e)};return e.deleteBackward=e=>{t(e),o()},e.deleteForward=e=>{n(e),o()},e.deleteFragment=e=>{r(e),o()},e}}),n6="event-editor",n8=nY({key:n6,handlers:{onFocus:e=>()=>{nC.focus(e.id)},onBlur:e=>()=>{n_.focus()===e.id&&nC.focus(null),nC.blur(e.id)}}}),n4=nY({key:"history",withOverrides:e=>(0,w.VC)(e)}),n7="inline-void",n5=nY({key:n7,withOverrides:e=>{let{isInline:t}=e,{isVoid:n}=e,r=[],o=[];return e.plugins.forEach(e=>{e.isInline&&r.push(e.type),e.isVoid&&o.push(e.type)}),e.isInline=e=>!!r.includes(e.type)||t(e),e.isVoid=e=>!!o.includes(e.type)||n(e),e}}),re=(e,t)=>{let n=[];return[...e.plugins].reverse().forEach(e=>{var r;let o=null===(r=e.inject.pluginsByKey)||void 0===r?void 0:r[t.key];o&&n.push(o)}),[t,...n]},rt=(e,{data:t,dataTransfer:n})=>e.every(e=>{var r,o;let i=null===(r=e.editor)||void 0===r?void 0:null===(o=r.insertData)||void 0===o?void 0:o.query;return!i||i({data:t,dataTransfer:n})}),rn=(e,t,{fragment:n,...r})=>{(0,j.kR)(e,()=>{t.some(e=>{var t,o,i;return(null===(t=e.editor)||void 0===t?void 0:null===(o=t.insertData)||void 0===o?void 0:null===(i=o.preInsert)||void 0===i?void 0:i.call(o,n,r))===!0}),e.insertFragment(n)})},rr=(e,{data:t,dataTransfer:n})=>(e.forEach(e=>{var r,o;let i=null===(r=e.editor)||void 0===r?void 0:null===(o=r.insertData)||void 0===o?void 0:o.transformData;i&&(t=i(t,{dataTransfer:n}))}),t),ro=(e,{fragment:t,...n})=>(e.forEach(e=>{var r,o;let i=null===(r=e.editor)||void 0===r?void 0:null===(o=r.insertData)||void 0===o?void 0:o.transformFragment;i&&(t=i(t,n))}),t),ri="insertData",ra=nY({key:ri,withOverrides:e=>{let{insertData:t}=e;return e.insertData=n=>{[...e.plugins].reverse().some(t=>{var r;let o=t.editor.insertData;if(!o)return!1;let i=re(e,t),{format:a,getFragment:l}=o;if(!a)return!1;let u=n.getData(a);if(!u)return;if(!rt(i,{data:u,dataTransfer:n}))return!1;u=rr(i,{data:u,dataTransfer:n});let c=null==l?void 0:l({data:u,dataTransfer:n});return null!==(r=c)&&void 0!==r&&!!r.length&&!!(c=ro(i,{fragment:c,data:u,dataTransfer:n})).length&&(rn(e,i,{fragment:c,data:u,dataTransfer:n}),!0)})||t(n)},e}}),rl="p",ru="nodeFactory",rc=nY({key:ru,withOverrides:e=>(e.blockFactory=t=>({type:rj(e,rl),children:[{text:""}],...t}),e.childrenFactory=()=>[e.blockFactory()],e)}),rs="prevSelection",rf=nY({key:rs,handlers:{onKeyDown:e=>t=>{t.persist(),e.currentKeyboardEvent=t}},withOverrides:e=>{let{apply:t}=e;return e.apply=n=>{if("set_selection"===n.type){let{properties:r}=n;e.prevSelection=r,t(n),e.currentKeyboardEvent=null;return}t(n)},e}}),rd=nY({key:"react",withOverrides:e=>(0,O.BU)(e)}),rp="\r",rv="\n",rh="\xa0",ry=" ",rb="	",rg=e=>{var t;return null!==(t=null==e?void 0:e.pluginsByKey)&&void 0!==t?t:{}},rm=(e,t)=>{var n;return null!==(n=rg(e)[t])&&void 0!==n?n:{key:t}},rj=(e,t)=>{var n,r;return null!==(n=null!==(r=rm(e,t).type)&&void 0!==r?r:t)&&void 0!==n?n:""},rw=e=>t=>(0,j.Gs)(t)||(0,j.kK)(t)&&e.isInline(t),rO=e=>()=>({type:e,children:[]}),rE=(e,t)=>e.some((e,n,r)=>{let o=r[n-1];return 0!==n&&t(e)!==t(o)}),rk=(e,t,n)=>{let r=rE(e,t),{fragment:o}=e.reduce((e,o)=>{if(r&&t(o)){let t=e.precedingBlock;t||(t=n(),e.precedingBlock=t,e.fragment.push(t)),t.children.push(o)}else e.fragment.push(o),e.precedingBlock=null;return e},{fragment:[],precedingBlock:null});return o},rC=e=>e.length?e:[{text:""}],r_=(e,t,n)=>e=(e=rk(e=rC(e),t,n)).map(e=>(0,j.kK)(e)?{...e,children:r_(e.children,t,n)}:e),rS=(e,{descendants:t})=>r_(t,rw(e),rO(rj(e,rl)));function rx(e){return"[object Object]"===Object.prototype.toString.call(e)}function rP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rB=new WeakMap,rM=new WeakMap;class rA{}class rD extends rA{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super();var{offset:t,path:n}=e;this.offset=t,this.path=n}}class rF extends rA{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super();var{offset:t,path:n}=e;this.offset=t,this.path=n}}var rT=(e,t)=>{var n=e.text.length;rB.set(e,[n,t])},rL=e=>rB.get(e),rK=(e,t)=>{var n=e.text.length;rM.set(e,[n,t])},rN=e=>rM.get(e);function rz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rz(Object(n),!0).forEach(function(t){rP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var rU=new WeakSet,rR=e=>{var t=[],n=e=>{if(null!=e){var r=t[t.length-1];if("string"==typeof e){var o={text:e};rU.add(o),e=o}if(C.xv.isText(e)){var i=e;C.xv.isText(r)&&rU.has(r)&&rU.has(i)&&C.xv.equals(r,i,{loose:!0})?r.text+=i.text:t.push(i)}else if(C.W_.isElement(e))t.push(e);else if(e instanceof rA){var a=t[t.length-1];C.xv.isText(a)||(n(""),a=t[t.length-1]),e instanceof rD?rT(a,e):e instanceof rF&&rK(a,e)}else throw Error("Unexpected hyperscript child object: ".concat(e))}};for(var r of e.flat(1/0))n(r);return t};function rV(e,t,n){return rI(rI({},t),{},{children:rR(n)})}function rH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rH(Object(n),!0).forEach(function(t){rP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var r$={anchor:function(e,t,n){return new rD(t)},cursor:function(e,t,n){return[new rD(t),new rF(t)]},editor:(r=C.Jh,(e,t,n)=>{var o,i=[];for(var a of n)C.e6.isRange(a)?o=a:i.push(a);var l=rR(i),u={},c=r();for(var[s,f]of(Object.assign(c,t),c.children=l,C.NB.texts(c))){var d=rL(s),p=rN(s);if(null!=d){var[v]=d;u.anchor={path:f,offset:v}}if(null!=p){var[h]=p;u.focus={path:f,offset:h}}}if(u.anchor&&!u.focus)throw Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<anchor />`. For collapsed selections, use `<cursor />` instead.");if(!u.anchor&&u.focus)throw Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<focus />`. For collapsed selections, use `<cursor />` instead.");return null!=o?c.selection=o:C.e6.isRange(u)&&(c.selection=u),c}),element:rV,focus:function(e,t,n){return new rF(t)},fragment:function(e,t,n){return rR(n)},selection:function(e,t,n){var r=n.find(e=>e instanceof rD),o=n.find(e=>e instanceof rF);if(!r||null==r.offset||null==r.path)throw Error("The <selection> hyperscript tag must have an <anchor> tag as a child with `path` and `offset` attributes defined.");if(!o||null==o.offset||null==o.path)throw Error("The <selection> hyperscript tag must have a <focus> tag as a child with `path` and `offset` attributes defined.");return rI({anchor:{offset:r.offset,path:r.path},focus:{offset:o.offset,path:o.path}},t)},text:function(e,t,n){var r=rR(n);if(r.length>1)throw Error("The <text> hyperscript tag must only contain a single node's worth of children.");var[o]=r;if(null==o&&(o={text:""}),!C.xv.isText(o))throw Error("\n    The <text> hyperscript tag can only contain text content as children.");return rU.delete(o),Object.assign(o,t),o}},rq=e=>function(t,n){for(var r,o,i,a=arguments.length,l=Array(a>2?a-2:0),u=2;u<a;u++)l[u-2]=arguments[u];var c=e[t];if(!c)throw Error("No hyperscript creator found for tag: <".concat(t,">"));return null==n&&(n={}),!1!==rx(r=n)&&(void 0===(o=r.constructor)||!1!==rx(i=o.prototype)&&!1!==i.hasOwnProperty("isPrototypeOf"))||(l=[n].concat(l),n={}),c(t,n,l=l.filter(e=>!!e).flat())},rG=e=>{var t={};for(var n in e)!function(n){var r=e[n];if("object"!=typeof r)throw Error("Properties specified for a hyperscript shorthand should be an object, but for the custom element <".concat(n,">  tag you passed: ").concat(r));t[n]=(e,t,n)=>rV("element",rW(rW({},r),t),n)}(n);return t},rQ=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{elements:t={}}=e,n=rG(t);return rq(rW(rW(rW({},r$),n),e.creators))}();let rZ=(e,t)=>Array.from(t.childNodes).map(r7(e)).flat(),rY=(e,t)=>{if("BODY"===t.nodeName)return rQ("fragment",{},rZ(e,t))},rX=e=>{if("BR"===e.nodeName)return"\n"};var rJ=function(){if(!arguments.length)return[];var e=arguments[0];return eN(e)?e:[e]};let r0=(e,t,{element:n,deserializeLeaf:r})=>{var o;let{deserializeHtml:i,isElement:a,isLeaf:l,type:u}=t;if(!i)return;let{attributeNames:c,query:s,isLeaf:f,isElement:d,rules:p}=i,{getNode:v}=i,h=d||a,y=f||l;if(!r&&!h||r&&!y||p&&!p.some(({validNodeName:e="*",validStyle:r,validClassName:o,validAttribute:i})=>{if(e){let t=rJ(e);if(t.length&&!t.includes(n.nodeName)&&"*"!==e)return!1}if(o&&!n.classList.contains(o))return!1;if(r)for(let[e,o]of Object.entries(r)){var a;if(!rJ(o).includes(n.style[e])&&"*"!==o||"*"===o&&!n.style[e])return;let r=null===(a=t.inject.props)||void 0===a?void 0:a.defaultNodeValue;if(r&&r===n.style[e])return!1}if(i){if("string"==typeof i){if(!n.getAttributeNames().includes(i))return!1}else for(let[e,t]of Object.entries(i)){let r=rJ(t),o=n.getAttribute(e);if(!(0,g.$K)(o)||!r.includes(o))return!1}}return!0})||s&&!s(n))return;if(!v){if(h)v=()=>({type:u});else{if(!y)return;v=()=>({[u]:!0})}}let b=null!==(o=v(n,{}))&&void 0!==o?o:{};if(Object.keys(b).length){if(re(e,t).forEach(e=>{var t,r;let o=null===(t=e.deserializeHtml)||void 0===t?void 0:null===(r=t.getNode)||void 0===r?void 0:r.call(t,n,b);o&&(b={...b,...o})}),c){let e={};for(let t of n.getAttributeNames())c.includes(t)&&(e[t]=n.getAttribute(t));Object.keys(e).length&&(b.attributes=e)}return{...i,node:b}}},r1=(e,t)=>{let n;return[...e.plugins].reverse().some(r=>!!(n=r0(e,r,{element:t}))),n},r2=(e,t)=>{let n=r1(e,t);if(n){var r;let{node:o,withoutChildren:i}=n,a=null!==(r=o.children)&&void 0!==r?r:rZ(e,t);return(!a.length||i)&&(a=[{text:""}]),rQ("element",o,a)}},r9=(e,t)=>{let n={};return[...e.plugins].reverse().forEach(r=>{let o=r0(e,r,{element:t,deserializeLeaf:!0});o&&(n={...n,...o.node})}),n},r3=(e,t)=>{let n=r9(e,t);return rZ(e,t).reduce((e,t)=>{if(!t)return e;if((0,j.kK)(t))Object.keys(n).length&&iB({node:t,source:n,query:{filter:([e])=>(0,j.Gs)(e)}}),e.push(t);else{let r={...n};(0,j.Gs)(t)&&t.text&&Object.keys(r).forEach(e=>{r[e]&&t[e]&&(r[e]=t[e])}),e.push(rQ("text",r,t))}return e},[])},r6=e=>e.nodeType===Node.TEXT_NODE,r8=e=>{if(r6(e)){var t,n;let r=null!==(t=null===(n=e.textContent)||void 0===n?void 0:n.replace(/^\n+|\n+$/g,""))&&void 0!==t?t:"";return r.length>0?r:null}},r4=e=>e.nodeType===Node.ELEMENT_NODE,r7=e=>t=>{let n=r8(t);if(n)return n;if(!r4(t))return null;let r=rX(t);if(r)return r;let o=rY(e,t);return o?o:r2(e,t)||r3(e,t)},r5=(e,t)=>r7(e)(t),oe=(e,t=!0)=>{let n=document.createElement("body");return n.innerHTML=e,t&&(n.innerHTML=n.innerHTML.replace(/(\r\n|\n|\r|\t)/gm,"")),n},ot=(e,{element:t,stripWhitespace:n=!0})=>{"string"==typeof t&&(t=oe(t,n));let r=r5(e,t);return rS(e,{descendants:r})},on=e=>new DOMParser().parseFromString(e,"text/html"),or="deserializeHtml",oo=nY({key:or,then:e=>({editor:{insertData:{format:"text/html",getFragment:({data:t})=>ot(e,{element:on(t).body})}}})}),oi=(e,t)=>{if(!t(e))return;let n=e.firstChild;for(;n;){let r=n,o=n.previousSibling;n=n.nextSibling,oi(r,t),r.previousSibling||r.nextSibling||r.parentNode||!n||o===n.previousSibling||!n.parentNode?r.previousSibling||r.nextSibling||r.parentNode||!n||n.previousSibling||n.nextSibling||n.parentNode||(o?n=o.nextSibling?o.nextSibling.nextSibling:null:e.firstChild&&(n=e.firstChild.nextSibling)):n=o?o.nextSibling:e.firstChild}},oa=(e,t)=>{oi(e,e=>!r4(e)||t(e))},ol=e=>{oa(e,e=>{if("BR"!==e.tagName)return!0;let t=document.createTextNode(rv);return e.parentElement&&e.parentElement.replaceChild(t,e),!1})},ou=["BR","IMG","TH","TD"],oc=e=>!ou.includes(e.nodeName)&&!e.innerHTML.trim(),os=e=>{if(oc(e)){let{parentElement:t}=e;e.remove(),t&&os(t)}},of=e=>{oa(e,e=>(os(e),!0))},od=(e,t)=>{let n=document.createElement(t);for(let{name:t}of(n.innerHTML=e.innerHTML,e.attributes)){let r=e.getAttribute(t);r&&n.setAttribute(t,r)}return e.parentNode&&e.parentNode.replaceChild(n,e),n},op=e=>{oa(e,e=>("FONT"===e.tagName&&(e.textContent?od(e,"span"):e.remove()),!0))},ov=e=>e.startsWith("#"),oh=e=>{e.outerHTML=e.innerHTML},oy=e=>{oa(e,e=>{if("A"!==e.tagName)return!0;let t=e.getAttribute("href");if((!t||ov(t))&&oh(e),t&&e.querySelector("img"))for(let t of e.querySelectorAll("span"))t.innerText||oh(t);return!0})},ob=(e,t)=>{oi(e,e=>!r6(e)||t(e))},og=e=>{ob(e,e=>{if(/^\n\s*$/.test(e.data)&&(e.previousElementSibling||e.nextElementSibling))return e.remove(),!0;if(e.data=e.data.replace(/\n\s*/g,"\n"),e.data.includes(rp)||e.data.includes(rv)||e.data.includes(rh)){let t=e.data.includes(ry),n=/\S/.test(e.data),r=e.data.includes(rv);if(!(t||n)&&!r)return e.data===rh?e.data=ry:e.remove(),!0;if(e.previousSibling&&"BR"===e.previousSibling.nodeName&&e.parentElement){e.parentElement.removeChild(e.previousSibling);let t=e.data.match(/^[\r\n]+/),n=t?t[0].length:0;e.data=e.data.substring(n).replace(RegExp(rv,"g"),ry).replace(RegExp(rp,"g"),ry),e.data=`
${e.data}`}else e.data=e.data.replace(RegExp(rv,"g"),ry).replace(RegExp(rp,"g"),ry)}return!0})},om=e=>/^(address|blockquote|body|center|dir|div|dl|fieldset|form|h[1-6]|hr|isindex|menu|noframes|noscript|ol|p|pre|table|ul|dd|dt|frameset|li|tbody|td|tfoot|th|thead|tr|html)$/i.test(e.nodeName),oj=e=>"TABLE"===e.nodeName,ow=e=>{oa(e,e=>{if(!e.getAttribute("style"))return!0;if(om(e)&&!oj(e)){let{style:{backgroundColor:t,color:n,fontFamily:r,fontSize:o,fontStyle:i,fontWeight:a,textDecoration:l}}=e;if(t||n||r||o||i||a||l){let t=document.createElement("span");["initial","inherit"].includes(n)||(t.style.color=n),t.style.fontFamily=r,t.style.fontSize=o,["normal","initial","inherit"].includes(n)||(t.style.fontStyle=i),["normal",400].includes(a)||(t.style.fontWeight=a),t.style.textDecoration=l,t.innerHTML=e.innerHTML,e.innerHTML=t.outerHTML}}return!0})},oO=(e,t)=>{let n=null;return oa(e,e=>!t(e)||(n=e,!1)),n},oE=(e,t)=>!!oO(e,t),ok=()=>NodeFilter.FILTER_ACCEPT,oC=e=>{let t=[],n=document.createNodeIterator(e,NodeFilter.SHOW_COMMENT,{acceptNode:ok}),r=n.nextNode();for(;r;)r.nodeValue&&t.push(r.nodeValue),r=n.nextNode();return t},o_=e=>e.nodeType===Node.COMMENT_NODE,oS=e=>{let t=e.trim().replace(RegExp("​","g"),"");return`<body>${t}</body>`},ox=e=>{let t=e.indexOf("<html");return -1===t?e:e.substring(t)},oP=e=>{let t=e.lastIndexOf("</html>");return -1===t?e:e.substring(0,t+7)},oB=[e=>ox(oP(e)),e=>e.replace(/(\r\n|\r)/gm,"\n")],oM=e=>oB.reduce((e,t)=>t(e),e),oA=(e,t)=>{oi(e,e=>!o_(e)||t(e))},oD=(e,t,n)=>{let r=e=>o_(e)&&e.data===n;oA(e,e=>{if(e.data===t){let t=e.nextSibling;for(e.remove();t&&!r(t);){let{nextSibling:e}=t;t.remove(),t=e}t&&r(t)&&t.remove()}return!0})};var oF=function(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r},oT=(s=function(e,t){return e&&nU(e,t,e3)},function(e,t){if(null==e)return e;if(!e9(e))return s(e,t);for(var n=e.length,r=-1,o=Object(e);(f?r--:++r<n)&&!1!==t(o[r],r,o););return e});function oL(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new eE;++t<n;)this.add(e[t])}oL.prototype.add=oL.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},oL.prototype.has=function(e){return this.__data__.has(e)};var oK=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},oN=function(e,t,n,r,o,i){var a=1&n,l=e.length,u=t.length;if(l!=u&&!(a&&u>l))return!1;var c=i.get(e),s=i.get(t);if(c&&s)return c==t&&s==e;var f=-1,d=!0,p=2&n?new oL:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var v=e[f],h=t[f];if(r)var y=a?r(h,v,f,t,e,i):r(v,h,f,e,t,i);if(void 0!==y){if(y)continue;d=!1;break}if(p){if(!oK(t,function(e,t){if(!p.has(t)&&(v===e||o(v,e,n,r,i)))return p.push(t)})){d=!1;break}}else if(!(v===h||o(v,h,n,r,i))){d=!1;break}}return i.delete(e),i.delete(t),d},oz=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n},oI=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},oU=Q?Q.prototype:void 0,oR=oU?oU.valueOf:void 0,oV=function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!i(new tB(e),new tB(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return I(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var l=oz;case"[object Set]":var u=1&r;if(l||(l=oI),e.size!=t.size&&!u)break;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var s=oN(l(e),l(t),r,o,i,a);return a.delete(e),s;case"[object Symbol]":if(oR)return oR.call(e)==oR.call(t)}return!1},oH=Object.prototype.hasOwnProperty,oW=function(e,t,n,r,o,i){var a=1&n,l=ts(e),u=l.length;if(u!=ts(t).length&&!a)return!1;for(var c=u;c--;){var s=l[c];if(!(a?s in t:oH.call(t,s)))return!1}var f=i.get(e),d=i.get(t);if(f&&d)return f==t&&d==e;var p=!0;i.set(e,t),i.set(t,e);for(var v=a;++c<u;){var h=e[s=l[c]],y=t[s];if(r)var b=a?r(y,h,s,t,e,i):r(h,y,s,e,t,i);if(!(void 0===b?h===y||o(h,y,n,r,i):b)){p=!1;break}v||(v="constructor"==s)}if(p&&!v){var g=e.constructor,m=t.constructor;g!=m&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m)&&(p=!1)}return i.delete(e),i.delete(t),p},o$="[object Arguments]",oq="[object Array]",oG="[object Object]",oQ=Object.prototype.hasOwnProperty,oZ=function(e,t,n,r,o,i){var a=eN(e),l=eN(t),u=a?oq:tS(e),c=l?oq:tS(t);u=u==o$?oG:u,c=c==o$?oG:c;var s=u==oG,f=c==oG,d=u==c;if(d&&eI(e)){if(!eI(t))return!1;a=!0,s=!1}if(d&&!s)return i||(i=new ek),a||eG(e)?oN(e,t,n,r,o,i):oV(e,t,u,n,r,o,i);if(!(1&n)){var p=s&&oQ.call(e,"__wrapped__"),v=f&&oQ.call(t,"__wrapped__");if(p||v){var h=p?e.value():e,y=v?t.value():t;return i||(i=new ek),o(h,y,n,r,i)}}return!!d&&(i||(i=new ek),oW(e,t,n,r,o,i))},oY=function e(t,n,r,o,i){return t===n||(null!=t&&null!=n&&(eA(t)||eA(n))?oZ(t,n,r,o,e,i):t!=t&&n!=n)},oX=function(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var l=n[o];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<i;){var u=(l=n[o])[0],c=e[u],s=l[1];if(a&&l[2]){if(void 0===c&&!(u in e))return!1}else{var f=new ek;if(r)var d=r(c,s,u,e,t,f);if(!(void 0===d?oY(s,c,3,r,f):d))return!1}}return!0},oJ=function(e){return e==e&&!eo(e)},o0=function(e){for(var t=e3(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,oJ(o)]}return t},o1=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},o2=function(e){var t=o0(e);return 1==t.length&&t[0][2]?o1(t[0][0],t[0][1]):function(n){return n===e||oX(n,e,t)}},o9=function(e,t,n){var r=null==e?void 0:nr(e,t);return void 0===r?n:r},o3=function(e,t){return null!=e&&t in Object(e)},o6=function(e,t,n){t=t5(t,e);for(var r=-1,o=t.length,i=!1;++r<o;){var a=nn(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&eV(o)&&eR(a,o)&&(eN(e)||eK(e))},o8=function(e,t){return null!=e&&o6(e,t,o3)},o4=function(e){var t;return t0(e)?(t=nn(e),function(e){return null==e?void 0:e[t]}):function(t){return nr(t,e)}},o7=function(e){if("function"==typeof e)return e;if(null==e)return nm;if("object"==typeof e){var t,n;return eN(e)?(t=e[0],n=e[1],t0(t)&&oJ(n)?o1(nn(t),n):function(e){var r=o9(e,t);return void 0===r&&r===n?o8(e,t):oY(n,r,3)}):o2(e)}return o4(e)},o5=(d=function(e,t,n){eS(e,n,t)},function(e,t){return(eN(e)?oF:function(e,t,n,r){return oT(e,function(e,o,i){t(r,e,n(e),i)}),r})(e,d,o7(t),{})}),ie=nq(function(e,t,n){nH(e,t,n)});let it=(e,t)=>{let n={...t},{then:r}=n;if(r){delete n.then;let{plugins:t}=n,i=it(e,nQ(r(e,n),n));if(t&&i.plugins){var o;let e=ie(o5(t,"key"),o5(i.plugins,"key"));i.plugins=null==(o=e)?[]:z(e3(o),function(e){return o[e]})}return i}return n},ir=e=>(void 0===e.type&&(e.type=e.key),e.options||(e.options={}),e.inject||(e.inject={}),e.editor||(e.editor={}),e),io=(e,t)=>{t&&t.forEach(t=>{let n=ir(t);if(n=it(e,n),e.pluginsByKey[n.key]){let t=e.plugins.indexOf(e.pluginsByKey[n.key]),r=nQ(n,e.pluginsByKey[n.key]);t>=0&&(e.plugins[t]=r),e.pluginsByKey[n.key]=r}else e.plugins.push(n),e.pluginsByKey[n.key]=n;io(e,n.plugins)})},ii=(e,{disableCorePlugins:t,plugins:n=[]})=>{let r=[];if(!0!==t){var o,i,a,l,u,c,s,f,d,p,v,h,y,b,g,m,j,w,O,E;"object"==typeof t&&null!=t&&t.react||r.push(null!==(o=null==e?void 0:null===(i=e.pluginsByKey)||void 0===i?void 0:i.react)&&void 0!==o?o:rd()),"object"==typeof t&&null!=t&&t.history||r.push(null!==(a=null==e?void 0:null===(l=e.pluginsByKey)||void 0===l?void 0:l.history)&&void 0!==a?a:n4()),"object"==typeof t&&null!=t&&t.nodeFactory||r.push(null!==(u=null==e?void 0:null===(c=e.pluginsByKey)||void 0===c?void 0:c[ru])&&void 0!==u?u:rc()),"object"==typeof t&&null!=t&&t.eventEditor||r.push(null!==(s=null==e?void 0:null===(f=e.pluginsByKey)||void 0===f?void 0:f[n6])&&void 0!==s?s:n8()),"object"==typeof t&&null!=t&&t.inlineVoid||r.push(null!==(d=null==e?void 0:null===(p=e.pluginsByKey)||void 0===p?void 0:p[n7])&&void 0!==d?d:n5()),"object"==typeof t&&null!=t&&t.insertData||r.push(null!==(v=null==e?void 0:null===(h=e.pluginsByKey)||void 0===h?void 0:h[ri])&&void 0!==v?v:ra()),"object"==typeof t&&null!=t&&t.selection||r.push(null!==(y=null==e?void 0:null===(b=e.pluginsByKey)||void 0===b?void 0:b[rs])&&void 0!==y?y:rf()),"object"==typeof t&&null!=t&&t.deserializeHtml||r.push(null!==(g=null==e?void 0:null===(m=e.pluginsByKey)||void 0===m?void 0:m[or])&&void 0!==g?g:oo()),"object"==typeof t&&null!=t&&t.deserializeAst||r.push(null!==(j=null==e?void 0:null===(w=e.pluginsByKey)||void 0===w?void 0:w[nX])&&void 0!==j?j:nJ()),"object"==typeof t&&null!=t&&t.editorProtocol||r.push(null!==(O=null==e?void 0:null===(E=e.pluginsByKey)||void 0===E?void 0:E[n9])&&void 0!==O?O:n3())}r=[...r,...n],e.plugins=[],e.pluginsByKey={},io(e,r),e.plugins.forEach(t=>{if(t.overrideByKey){let n=e.plugins.map(e=>nZ(e,t.overrideByKey));e.plugins=[],e.pluginsByKey={},io(e,n)}})},ia=e=>()=>{console.warn(`editor.${e} should have been overriden but was not. Please report this issue here: https://github.com/udecode/plate/issues`)},il=(e,{id:t,plugins:n=[],disableCorePlugins:r}={})=>{let o=e;return o.id=null!=t?t:o.id,o.prevSelection=null,o.currentKeyboardEvent=null,o.reset=()=>ia("reset"),o.redecorate=()=>ia("redecorate"),o.plate={get set(){return null}},o.key||(o.key=Math.random()),ii(o,{plugins:n,disableCorePlugins:r}),o.plugins.forEach(e=>{e.withOverrides&&(o=e.withOverrides(o,e))}),o};var iu=function(e){return tZ(e,5)};let ic=(e,{components:t,overrideByKey:n}={})=>{let r={};return(n&&(r=iu(n)),t&&Object.keys(t).forEach(e=>{r[e]||(r[e]={}),r[e].component=t[e]}),Object.keys(r).length)?e.map(e=>nZ(e,r)):e},is=({editor:e=(0,j.tc)(),plugins:t=[],components:n,overrideByKey:r,normalizeInitialValue:o,...i}={})=>{let a=il(e,{plugins:t=ic(t,{components:n,overrideByKey:r}),...i});return o&&(0,j.Nh)(a,{force:!0}),a},id=(e,t)=>{let n=rJ(t);return Object.values(e.pluginsByKey).filter(e=>n.includes(e.type)).map(e=>e.key)},ip=(e,t)=>{var n,r;return null!==(n=null===(r=rm(e,t).inject)||void 0===r?void 0:r.props)&&void 0!==n?n:{}},iv=(e,t)=>{var n;return null!==(n=rm(e,t).options)&&void 0!==n?n:{}},ih=(e,t)=>t.map(t=>rj(e,t));var iy=function(e,t,n,r){if(!eo(e))return e;t=t5(t,e);for(var o=-1,i=t.length,a=i-1,l=e;null!=l&&++o<i;){var u=nn(t[o]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)break;if(o!=a){var s=l[u];void 0===(c=r?r(s,u,l):void 0)&&(c=eo(s)?s:eR(t[o+1])?[]:{})}eP(l,u,c),l=l[u]}return e},ib=function(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],l=nr(e,a);n(l,a)&&iy(i,t5(a,e),l)}return i},ig=nO(function(e,t){return null==e?{}:ib(e,t,function(t,n){return o8(e,n)})});let im=e=>`slate-${e}`,ij=({attributes:e,dangerouslyAllowAttributes:t,nodeProps:n,props:r,type:o})=>{let i={};if(r){var a;i=null!==(a="function"==typeof r?r(n):r)&&void 0!==a?a:{}}!i.nodeProps&&e&&(i.nodeProps=ig(e,null!=t?t:[])),(n={...n,...i}).nodeProps&&Object.keys(n.nodeProps).forEach(e=>{var t,r;(null===(t=n.nodeProps)||void 0===t?void 0:t[e])===void 0&&(null===(r=n.nodeProps)||void 0===r||delete r[e])});let{className:l}=n;return{...n,className:(0,E.Z)(im(o),l)}};var iw=W(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});for(var n=()=>"undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),r={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},o=()=>({add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:n()?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"}),i={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},a=1;a<20;a++)i["f"+a]=111+a;function l(e,t,n){!t||"byKey"in t||(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map(function(e){return u(e,t)}),o=function(e){return r.some(function(t){return c(t,e)})};return null==n?o:o(n)}function u(e,t){var n=t&&t.byKey,o={},i=(e=e.replace("++","+add")).split("+"),a=i.length;for(var l in r)o[r[l]]=!1;var u=!0,c=!1,d=void 0;try{for(var p,v=i[Symbol.iterator]();!(u=(p=v.next()).done);u=!0){var h=p.value,y=h.endsWith("?")&&h.length>1;y&&(h=h.slice(0,-1));var b=f(h),g=r[b];1!==a&&g||(n?o.key=b:o.which=s(h)),g&&(o[g]=!y||null)}}catch(e){c=!0,d=e}finally{try{!u&&v.return&&v.return()}finally{if(c)throw d}}return o}function c(e,t){for(var n in e){var r=e[n],o=void 0;if(null!=r&&(null!=(o="key"===n&&null!=t.key?t.key.toLowerCase():"which"===n?91===r&&93===t.which?91:t.which:t[n])||!1!==r)&&o!==r)return!1}return!0}function s(e){return i[e=f(e)]||e.toUpperCase().charCodeAt(0)}function f(e){return e=e.toLowerCase(),e=o()[e]||e}t.default=l,t.isHotkey=l,t.isCodeHotkey=function(e,t){return l(e,t)},t.isKeyHotkey=function(e,t){return l(e,{byKey:!0},t)},t.parseHotkey=u,t.compareHotkey=c,t.toKeyCode=s,t.toKeyName=f});iw&&iw.__esModule&&Object.prototype.hasOwnProperty.call(iw,"default")&&iw.default,iw.isHotkey,iw.isCodeHotkey;var iO=iw.isKeyHotkey;iw.parseHotkey,iw.compareHotkey,iw.toKeyCode,iw.toKeyName;let iE={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",insertSoftBreak:"shift+enter",italic:"mod+i",moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",splitBlock:"enter",tab:"tab",untab:"shift+tab",undo:"mod+z"},ik={deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},iC={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},i_=e=>{let t=iE[e],n=ik[e],r=iC[e],o=t&&iO(t),i=n&&iO(n),a=r&&iO(r);return e=>!!(o&&o(e)||g.jB&&i&&i(e)||!g.jB&&a&&a(e))},iS=e=>(t,n,{composing:r}={})=>!!i_(e)(n)&&!!r===(0,k.bH)(t),ix={isBold:i_("bold"),isCompose:i_("compose"),isMoveBackward:i_("moveBackward"),isMoveForward:i_("moveForward"),isDeleteBackward:i_("deleteBackward"),isDeleteForward:i_("deleteForward"),isDeleteLineBackward:i_("deleteLineBackward"),isDeleteLineForward:i_("deleteLineForward"),isDeleteWordBackward:i_("deleteWordBackward"),isDeleteWordForward:i_("deleteWordForward"),isExtendBackward:i_("extendBackward"),isExtendForward:i_("extendForward"),isExtendLineBackward:i_("extendLineBackward"),isExtendLineForward:i_("extendLineForward"),isItalic:i_("italic"),isMoveLineBackward:i_("moveLineBackward"),isMoveLineForward:i_("moveLineForward"),isMoveWordBackward:i_("moveWordBackward"),isMoveWordForward:i_("moveWordForward"),isRedo:i_("redo"),isSoftBreak:i_("insertSoftBreak"),isSplitBlock:i_("splitBlock"),isTab:iS("tab"),isTransposeCharacter:i_("transposeCharacter"),isUndo:i_("undo"),isUntab:iS("untab")},iP=(e,t,n)=>{var r;let o=null===(r=t.inject.props)||void 0===r?void 0:r.validTypes;if(!o)return;let i=id(e,o),a={};return i.forEach(e=>{a[e]=n}),{inject:{pluginsByKey:a}}},iB=e=>{nN({...e,apply:ie})},iM=e=>({key:"",type:"",editor:{},inject:{},options:{},...e}),iA=(e,t)=>{let n=iu(t);if(e.plugins.forEach(e=>{var t;let r=null===(t=e.normalizeInitialValue)||void 0===t?void 0:t.call(e,n);r&&(n=r)}),!oY(t,n))return n},iD=(e,t)=>{let n=e.plugins.flatMap(t=>{var n,r;return null!==(n=null===(r=t.decorate)||void 0===r?void 0:r.call(t,e,t))&&void 0!==n?n:[]});if(t&&n.push(t),n.length)return e=>{let t=[],r=e=>{null!=e&&e.length&&(t=[...t,...e])};return n.forEach(t=>{r(t(e))}),t}},iF=(e,t)=>{if(!t)return!1;let n=t(e);return null!=n?n:e.isPropagationStopped()},iT=(e,{editableProps:t,handlerKey:n})=>{let r=[];r=e.plugins.flatMap(t=>{var r,o,i;return null!==(r=null===(o=t.handlers)||void 0===o?void 0:null===(i=o[n])||void 0===i?void 0:i.call(o,e,t))&&void 0!==r?r:[]});let o=null==t?void 0:t[n];if(r.length||o)return e=>!!r.some(t=>iF(e,t))||iF(e,o)},iL=(e,{key:t,inject:{props:n}},r)=>{var o,i,a;let{element:l,text:u,className:c,style:s}=r,f=null!=l?l:u;if(!f||!n)return;let{nodeKey:d=t,styleKey:p=d,validTypes:v,classNames:h,transformClassName:y,transformNodeValue:b,transformStyle:g,validNodeValues:m,defaultNodeValue:w}=n;if(v&&(0,j.kK)(f)&&f.type&&!v.includes(f.type))return;let O=f[d];if(!O||m&&!m.includes(O)||O===w)return;let k={},C={...r,nodeValue:O},_=null!==(o=null==b?void 0:b(C))&&void 0!==o?o:O;return l&&(k.className=(0,E.Z)(c,`slate-${d}-${O}`)),(null!=h&&h[O]||y)&&(k.className=null!==(i=null==y?void 0:y(C))&&void 0!==i?i:(0,E.Z)(c,null==h?void 0:h[_])),p&&(k.style=null!==(a=null==g?void 0:g(C))&&void 0!==a?a:{...s,[p]:_}),k},iK=(e,t)=>(e.plugins.forEach(n=>{if(n.inject.props){let r=iL(e,n,t);r&&(t={...t,...r})}}),{...t,editor:e}),iN=e=>{let t=e.plugins.flatMap(t=>{var n,r,o;return null!==(n=null===(r=t.handlers)||void 0===r?void 0:null===(o=r.onChange)||void 0===o?void 0:o.call(r,e,t))&&void 0!==n?n:[]});return e=>t.some(t=>{if(!t)return!1;let n=t(e);return null!=n&&n})},iz=(e,{key:t,type:n,component:r,dangerouslyAllowAttributes:o,props:i})=>a=>{let{element:l,children:u}=a;if(l.type===n){let c=null!=r?r:O.Qr,s=e.plugins.flatMap(e=>{var t,n;return null!==(t=null===(n=e.inject)||void 0===n?void 0:n.aboveComponent)&&void 0!==t?t:[]}),f=e.plugins.flatMap(e=>{var t,n;return null!==(t=null===(n=e.inject)||void 0===n?void 0:n.belowComponent)&&void 0!==t?t:[]});a=ij({attributes:l.attributes,dangerouslyAllowAttributes:o,nodeProps:a,props:i,type:n});let d=u;f.forEach(e=>{let n=e({...a,key:t});n&&(d=n({...a,children:d}))});let p=v.createElement(c,a,d);return s.forEach(e=>{let n=e({...a,key:t});n&&(p=n({...a,children:p}))}),v.createElement(L,{element:l,scope:t},p)}},iI=(e,t)=>{let n=[];return e.plugins.forEach(t=>{t.isElement&&n.push(iz(e,t))}),r=>{let o;let i=iK(e,r);return(n.some(e=>!!(o=e(i))),o)?o:t?t(i):v.createElement(O.Qr,i)}},iU=(e,{key:t,type:n=t,component:r,dangerouslyAllowAttributes:o,props:i})=>e=>{let{leaf:t,children:a}=e;return t[n]?(e=ij({attributes:t.attributes,dangerouslyAllowAttributes:o,props:i,nodeProps:e,type:n}),v.createElement(null!=r?r:N,e,a)):a},iR=(e,t)=>{let n=[];return e.plugins.forEach(t=>{t.isLeaf&&t.key&&n.push(iU(e,t))}),r=>{let o=iK(e,r);return(n.forEach(e=>{let t=e(o);void 0!==t&&(o.children=t)}),t)?t(o):v.createElement(N,o)}},iV=e=>{let t=nD(e).editor(),n=nF(e).editor();return(0,v.useCallback)(()=>{n(is({id:t.id,plugins:t.plugins,disableCorePlugins:!0}))},[t,n])},iH=e=>nD(e).editor(),iW=e=>(nD(e).keySelection(),iH(e).selection),i$=["onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onDOMBeforeInput","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],iq=({id:e,...t}={})=>{var n,r,o;let i=iH(e),a=nD(e),l=a.keyDecorate(),u=a.readOnly(),c=null===(n=a.decorate())||void 0===n?void 0:n.fn,s=null===(r=a.renderLeaf())||void 0===r?void 0:r.fn,f=null===(o=a.renderElement())||void 0===o?void 0:o.fn,d=(0,v.useMemo)(()=>iD(i,null!=c?c:null==t?void 0:t.decorate),[null==t?void 0:t.decorate,i,c]),p=(0,v.useMemo)(()=>{if(l&&d)return e=>d(e)},[d,l]),h=(0,v.useMemo)(()=>iI(i,null!=f?f:null==t?void 0:t.renderElement),[null==t?void 0:t.renderElement,i,f]),y=(0,v.useMemo)(()=>iR(i,null!=s?s:null==t?void 0:t.renderLeaf),[null==t?void 0:t.renderLeaf,i,s]),b=(0,m.NY)(()=>{let e={decorate:p,renderElement:h,renderLeaf:y};return(0,g.$K)(u)&&(e.readOnly=u),i$.forEach(n=>{let r=iT(i,{editableProps:t,handlerKey:n});r&&(e[n]=r)}),e},[p,t,h,y,u]);return(0,m.NY)(()=>({...nE(t,[...i$,"renderElement","renderLeaf"]),...b}),[t,b])},iG=()=>(0,O._7)(),iQ=()=>(0,O.ui)(),iZ=({setState:e,state:t,nextState:n,nextStateValue:r=n})=>{(0,v.useEffect)(()=>{n!==t&&void 0!==n&&e(r)},[e,t,n,r])},iY=({id:e,disableCorePlugins:t,value:n,onChange:r,plugins:o,editorRef:i,decorate:a,renderElement:l,renderLeaf:u,readOnly:c})=>{let s=iH(e),f=nT(e),[d,p]=f.value(),[h,y]=f.editorRef(),[b,g]=f.decorate(),[m,j]=f.renderElement(),[w,O]=f.renderLeaf(),[E,k]=f.rawPlugins(),[,C]=f.plugins(),[_,S]=f.onChange(),[x,P]=f.readOnly();iZ({state:d,setState:p,nextState:n}),iZ({state:x,setState:P,nextState:c}),iZ({state:E,setState:C,nextState:o,nextStateValue:null!=o?o:[]}),iZ({state:null==_?void 0:_.fn,setState:S,nextState:r,nextStateValue:r?{fn:r}:null}),iZ({state:null==h?void 0:h.ref,setState:y,nextState:i,nextStateValue:i?{ref:i}:null}),iZ({state:null==b?void 0:b.fn,setState:g,nextState:a,nextStateValue:a?{fn:a}:null}),iZ({state:null==m?void 0:m.fn,setState:j,nextState:l,nextStateValue:l?{fn:l}:null}),iZ({state:null==w?void 0:w.fn,setState:O,nextState:u,nextStateValue:u?{fn:u}:null}),(0,v.useEffect)(()=>{o!==E&&(k(E),ii(s,{plugins:o,disableCorePlugins:t}),C(s.plugins))},[t,s,E,o,C,k])},iX=({id:e})=>{var t;let n=iH(e),r=nD(e).value(),o=nF(e).value(),i=null===(t=nD(e).onChange())||void 0===t?void 0:t.fn,a=(0,v.useCallback)(e=>{iN(n)(e)||null==i||i(e),o(e)},[n,o,i]);return(0,v.useMemo)(()=>({key:n.key,editor:n,onChange:a,value:r,initialValue:r}),[n,a,r])},iJ=["readOnly","plugins","onChange","decorate","renderElement","renderLeaf"],i0=({id:e})=>{let t=iG(),n=iV(e),r=nK(e),o=nA(e),i=Object.fromEntries(iJ.map(e=>[e,o.set[e]()])),a=(0,v.useMemo)(()=>i,[]);return(0,v.useEffect)(()=>{t.reset=n,t.redecorate=r,t.plate={set:a}},[t,n,r,a]),null},i1=({plugin:e})=>{var t;let n=iG();return null===(t=e.useHooks)||void 0===t||t.call(e,n,e),null},i2=({id:e})=>{var t;let n=nF(e).isRendered(),r=nD(e).plugins(),o=iG(),i=null===(t=nD(e).editorRef())||void 0===t?void 0:t.ref;return(0,v.useEffect)(()=>(n(!0),()=>{n(!1)}),[n]),(0,v.useEffect)(()=>"function"==typeof i?(i(o),()=>i(null)):i?(i.current=o,()=>{i.current=null}):void 0,[i,o]),v.createElement(v.Fragment,null,r.map(e=>v.createElement(i1,{key:e.key,plugin:e})))},i9=(0,v.memo)(({id:e})=>{let t=iQ(),n=nL("keyEditor",e),r=nL("keySelection",e);return(0,v.useEffect)(()=>{n()}),(0,v.useEffect)(()=>{r()},[t.selection,r]),null}),i3=({children:e,renderEditable:t,editableRef:n,firstChildren:r,...o})=>{let{id:i}=o,{plugins:a}=iG(),l=iq(o),u=v.createElement(O.CX,B({ref:n},l)),c=null,s=null;a.forEach(e=>{let{renderBeforeEditable:t,renderAfterEditable:n}=e;n&&(c=v.createElement(v.Fragment,null,c,n(l))),t&&(s=v.createElement(v.Fragment,null,s,t(l)))});let f=v.createElement(v.Fragment,null,r,s,t?t(u):u,v.createElement(i0,{id:i}),v.createElement(i9,{id:i}),v.createElement(i2,{id:i}),c,e);return a.forEach(e=>{let{renderAboveEditable:t}=e;t&&(f=t({children:f}))}),f},i6=({children:e,...t})=>(iY(t),v.createElement(v.Fragment,null,e)),i8=({normalizeInitialValue:e,...t})=>{let{id:n=nS,editor:r,initialValue:o,value:i,children:a,plugins:l,disableCorePlugins:u,onChange:c,editorRef:s,decorate:f,renderElement:d,renderLeaf:p,readOnly:h}=t,y=(0,v.useMemo)(()=>null!=r?r:is({id:n,plugins:l,disableCorePlugins:u}),[]),b=(0,v.useMemo)(()=>{let t=null!=o?o:i;t||(t=y.children.length?y.children:y.childrenFactory());let n=iA(y,t);return n&&(t=n),y.children=t,e&&(0,j.Nh)(y,{force:!0}),y.children},[]);return v.createElement(M,{initialValues:[[nM.atom.id,n],[nM.atom.editor,y],[nM.atom.plugins,y.plugins],[nM.atom.rawPlugins,l],[nM.atom.readOnly,h],[nM.atom.value,b],[nM.atom.decorate,{fn:f}],[nM.atom.onChange,{fn:c}],[nM.atom.editorRef,{ref:s}],[nM.atom.renderElement,{fn:d}],[nM.atom.renderLeaf,{fn:p}]],scope:n},v.createElement(M,{initialValues:[[nP,n]],scope:nx},v.createElement(i6,t,a)))},i4=e=>{let{id:t}=e;return v.createElement(i8,B({key:null==t?void 0:t.toString()},e))},i7=({id:e,children:t})=>{let n=iX({id:e}),{plugins:r}=nD(e).editor(),o=v.createElement(O.mH,n,t);return null==r||r.forEach(e=>{let{renderAboveSlate:t}=e;t&&(o=t({children:o}))}),o},i5=({children:e,editableRef:t,firstChildren:n,renderEditable:r,editableProps:o,...i})=>{let{id:a=nS}=i,l=nD(a).id(),u=v.createElement(i7,{id:a},v.createElement(i3,B({id:a,editableRef:t,firstChildren:n,renderEditable:r},o),e));return l?u:v.createElement(i4,i,u)},ae=(e,t,n)=>{let{activeType:r,inactiveType:o=rj(e,rl)}=t;if(!r||!e.selection)return;let i=(0,j.zw)(e,{...n,match:{type:r}});i&&r===o||(0,j.oU)(e,{type:i?o:r})}}}]);